diff --git a/CMakeLists.txt b/CMakeLists.txt
index 32979ad..5fa7171 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -214,3 +214,5 @@ set_source_files_properties(libraries/AzureIoT/src/az_iot/iothub_client/src/ioth
     PROPERTIES COMPILE_FLAGS
     -Wno-maybe-uninitialized
 )
+
+target_compile_definitions(${COMPONENT_TARGET} PUBLIC "-DESP32")
\ No newline at end of file
